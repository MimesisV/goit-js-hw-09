{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["const feedbackFormData = \"feedback-form-state\";\n\nconst form = document.querySelector(\".feedback-form\");\nconst textarea = form.querySelector(\"textarea\");\nconst input = form.querySelector(\"input\");\n\ntry {\n    const dataFromStorage = JSON.parse(localStorage.getItem(feedbackFormData));\n\n    if(dataFromStorage) {\n        input.value = dataFromStorage.email;\n        textarea.value = dataFromStorage.message;\n    };\n\n    // Array.from(form.elements).forEach (element => {\n    //     const storageValue = dataFromStorage[element.name];\n        \n    //     if (storageValue) {\n    //         element.value = storageValue;\n    //     }\n    // })\n} catch {\n    console.log(\"Parse error!\");\n}\n\nform.addEventListener(\"input\", () => {\n    const formData = new FormData(form);\n    const formObject = {};\n\n    formData.forEach((value, key) => {\n        formObject[key] = value;\n    })\n\n    localStorage.setItem(feedbackFormData, JSON.stringify(formObject))\n})\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    console.log(JSON.parse(localStorage.getItem(feedbackFormData)));\n\n    localStorage.removeItem(feedbackFormData)\n    form.reset();\n });"],"names":["feedbackFormData","form","textarea","input","dataFromStorage","formData","formObject","value","key","event"],"mappings":"oCAAA,MAAMA,EAAmB,sBAEnBC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,cAAc,UAAU,EACxCE,EAAQF,EAAK,cAAc,OAAO,EAExC,GAAI,CACA,MAAMG,EAAkB,KAAK,MAAM,aAAa,QAAQJ,CAAgB,CAAC,EAEtEI,IACCD,EAAM,MAAQC,EAAgB,MAC9BF,EAAS,MAAQE,EAAgB,QAUzC,MAAE,CACE,QAAQ,IAAI,cAAc,CAC9B,CAEAH,EAAK,iBAAiB,QAAS,IAAM,CACjC,MAAMI,EAAW,IAAI,SAASJ,CAAI,EAC5BK,EAAa,CAAA,EAEnBD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC7BF,EAAWE,GAAOD,CAC1B,CAAK,EAED,aAAa,QAAQP,EAAkB,KAAK,UAAUM,CAAU,CAAC,CACrE,CAAC,EAEDL,EAAK,iBAAiB,SAAWQ,GAAU,CACvCA,EAAM,eAAc,EACpB,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQT,CAAgB,CAAC,CAAC,EAE9D,aAAa,WAAWA,CAAgB,EACxCC,EAAK,MAAK,CACd,CAAE"}