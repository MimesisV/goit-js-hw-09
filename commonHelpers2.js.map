{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackFormData = \"feedback-form-state\";\n\nconst form = document.querySelector(\".feedback-form\");\n\nfunction readFormData (form) {\n    const email = form.email.value.trim();\n    const message = form.message.value.trim();\n    return {\n        email,\n        message\n    }\n}\n\ntry {\n    const dataFromStorage = JSON.parse(localStorage.getItem(feedbackFormData));\n\n    if(dataFromStorage) {\n        form.email.value = dataFromStorage.email;\n        form.message.value = dataFromStorage.message;\n    };\n\n} catch {\n    if (!JSON.parse(localStorage.getItem(feedbackFormData))) {\n        console.log();\n    }else {\n        console.log(\"Parse error!\");\n    }\n}\n\nform.addEventListener(\"input\", (event) => {\n    const formData = readFormData(event.currentTarget);\n\n    localStorage.setItem(feedbackFormData, JSON.stringify(formData))\n})\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    const formData = JSON.parse(localStorage.getItem(feedbackFormData));\n\n    if (formData && formData.email.trim() !== \"\" && formData.message.trim() !== \"\") {\n        console.log(formData);\n        localStorage.removeItem(feedbackFormData);\n        form.reset();\n    } else {\n        alert(\"Все поля формы должны быть заполнены\");\n    }\n});"],"names":["feedbackFormData","form","readFormData","email","message","dataFromStorage","event","formData"],"mappings":"oCAAA,MAAMA,EAAmB,sBAEnBC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,SAASC,EAAcD,EAAM,CACzB,MAAME,EAAQF,EAAK,MAAM,MAAM,KAAI,EAC7BG,EAAUH,EAAK,QAAQ,MAAM,KAAI,EACvC,MAAO,CACH,MAAAE,EACA,QAAAC,CACH,CACL,CAEA,GAAI,CACA,MAAMC,EAAkB,KAAK,MAAM,aAAa,QAAQL,CAAgB,CAAC,EAEtEK,IACCJ,EAAK,MAAM,MAAQI,EAAgB,MACnCJ,EAAK,QAAQ,MAAQI,EAAgB,QAG7C,MAAE,CACO,KAAK,MAAM,aAAa,QAAQL,CAAgB,CAAC,EAGlD,QAAQ,IAAI,cAAc,EAF1B,QAAQ,IAAG,CAInB,CAEAC,EAAK,iBAAiB,QAAUK,GAAU,CACtC,MAAMC,EAAWL,EAAaI,EAAM,aAAa,EAEjD,aAAa,QAAQN,EAAkB,KAAK,UAAUO,CAAQ,CAAC,CACnE,CAAC,EAEDN,EAAK,iBAAiB,SAAWK,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAW,KAAK,MAAM,aAAa,QAAQP,CAAgB,CAAC,EAE9DO,GAAYA,EAAS,MAAM,KAAM,IAAK,IAAMA,EAAS,QAAQ,KAAM,IAAK,IACxE,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWP,CAAgB,EACxCC,EAAK,MAAK,GAEV,MAAM,sCAAsC,CAEpD,CAAC"}